<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,900" type="text/css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css"></link>
</head>
<body style="font-family:'Lato'; color:#111111;">
    <div id="reactjs-root" style="height:100%"></div>

    <script type="text/javascript">

      window.initialJSON = null
      if(window.initialJSON !== null) {
        console.log("initialJSON: ", window.initialJSON)
      } else {
        //try to resolve an inital url from which to request the initial json data bundle
        if (window.location.pathname.match(/dashboard.html/)) {
          window.initialUrl = "/api/dashboard"
        } else {
          //check if page url contains an '?initialUrl=...' param
          const urlParams = window.location.search.substring(1)
          if (urlParams !== "") {
            // parse url parameters and get the value of ?initialUrl=/some/url
            const urlParamsObj = JSON.parse(
              '{"'+decodeURI(urlParams).replace(/"/g, '\\"').replace(/&/g, '","').replace(/=/g, '":"') + '"}'
            )
            window.initialUrl = urlParamsObj.initialUrl
          } else {
            console.warn("initialUrl param not specified. Skipping initial request for data.")
          }
        }
        console.log("initialUrl: ", window.initialUrl)
      }
    </script>
    <script src="//cdn.tinymce.com/4/tinymce.min.js"></script>
</body>
</html>
